## 美团面经

### http位于协议模型的哪一层？

物理层： RJ45 、 CLOCK 、 IEEE802.3 （中继器，集线器，网关） **-** 

数据链路： PPP 、 FR 、 HDLC 、 VLAN 、 MAC （网桥，交换机） **-** 

网络层： IP 、 ICMP 、 ARP 、 RARP 、 OSPF 、 IPX 、 RIP 、 IGRP 、 （路由器） **-** 

传输层： TCP 、 UDP 、 SPX **-** 

会话层： NFS 、 SQL 、 NETBIOS 、 RPC **-** 

表示层： JPEG 、 MPEG 、 ASII **-** 

应用层： FTP 、 DNS 、 Telnet 、 SMTP 、 HTTP 、 WWW 、 NFS

### post与get的区别

在客户机和服务器之间进行请求-响应时，两种最常被用到的方法是：GET 和 POST。

- *GET* - 从指定的资源请求数据。
- *POST* - 向指定的资源提交要被处理的数据

|                  | GET                                                          | POST                                                         |
| :--------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 后退按钮/刷新    | 无害                                                         | 数据会被重新提交（浏览器应该告知用户数据会被重新提交）。     |
| 书签             | 可收藏为书签                                                 | 不可收藏为书签                                               |
| 缓存             | 能被缓存                                                     | 不能缓存                                                     |
| 编码类型         | application/x-www-form-urlencoded                            | application/x-www-form-urlencoded 或 multipart/form-data。为二进制数据使用多重编码。 |
| 历史             | 参数保留在浏览器历史中。                                     | 参数不会保存在浏览器历史中。                                 |
| 对数据长度的限制 | 是的。当发送数据时，GET 方法向 URL 添加数据；URL 的长度是受限制的（URL 的最大长度是 2048 个字符）。 | 无限制。                                                     |
| 对数据类型的限制 | 只允许 ASCII 字符。                                          | 没有限制。也允许二进制数据。                                 |
| 安全性           | 与 POST 相比，GET 的安全性较差，因为所发送的数据是 URL 的一部分。在发送密码或其他敏感信息时绝不要使用 GET ！ | POST 比 GET 更安全，因为参数不会被保存在浏览器历史或 web 服务器日志中。 |
| 可见性           | 数据在 URL 中对所有人都是可见的。                            | 数据不会显示在 URL 中。                                      |

### 进程与线程的区别

进程是资源分配的最小单位，线程是CPU调度的最小单位。

一个进程可以包含多个线程

不同进程之间的难以共享数据

同一进程不同线程之间的数据很容易进行共享

进程之间不同互相影响，一个线程挂掉往往会导致整个进程挂掉

[参考文章](https://www.zhihu.com/question/25532384)写得不错！

### 什么是索引，索引的优缺点

索引是关系数据库中对某一列或多个列的值进行预排序的数据结构。通过使用索引，可以让数据库系统不必扫描整个表，而是直接定位到符合条件的记录，这样就大大加快了查询速度。

优点：

1. 建立索引的列可以保证行的唯一性，生成唯一的rowId
2. 建立索引可以有效缩短数据的检索时间
3. 建立索引可以加快表与表之间的连接
4. 为用来排序或者是分组的字段添加索引可以加快分组和排序顺序

缺点：

1. 创建索引和维护索引需要时间成本，这个成本随着数据量的增加而加大
2. 创建索引和维护索引需要空间成本，每一条索引都要占据数据库的物理存储空间，数据量越大，占用空间也越大（数据表占据的是数据库的数据空间）
3. 会降低表的增删改的效率，因为每次增删改索引需要进行动态维护，导致时间变长

### 什么情况下需要建立索引

-  数据量大的，经常进行查询操作的表要建立索引。
-  用于排序的字段可以添加索引，用于分组的字段应当视情况看是否需要添加索引。
-  表与表连接用于多表联合查询的约束条件的字段应当建立索引。

### B树和B+树

[B树](https://www.zhihu.com/search?type=content&q=b树)

在内存的运算速度是非常快的，至少比磁盘的寻址加载速度，快了几百倍，而我们进行数值比较的时候，是在内存中进行的，虽然 B 树的比较次数可能比二叉查找树多，但是磁盘操作次数少，所以总体来说，还是 B 树快的多，这也是为什么我们用使用 B 树来存储的原因。

[B+树]()

B树的优势是当你要查找的值恰好处在一个非叶子节点时，查找到该节点就会成功并结束查询，而B+树由于非叶节点只是索引部分，这些节点中只含有其子树中的最大(或最小)关键字，当非终端节点上的关键字等于给点值时，查找并不终止，而是继续向下直到叶子节点。因此在B+树中，无论查找成功与否，都是走了一条从根到叶子节点的路径。

B+树有一个最大的好处，方便扫库，B树必须用中序遍历的方法按序扫库，而B+树直接从叶子结点挨个扫一遍就完了。

### 数据库查询语言、数据库操纵语言、数据库定义语言、数据库控制语言

SQL语言共分为四大类：数据查询语言DQL，数据操纵语言DML，数据定义语言DDL，数据控制语言DCL。

[具体内容](https://zhuanlan.zhihu.com/p/58691974)

### 什么是事务，事务的ACID特性

数据库事务( transaction)是访问并可能操作各种数据项的一个数据库操作序列，这些操作要么全部执行,要么全部不执行，是一个不可分割的工作单位。 事务由事务开始与事务结束之间执行的全部数据库操作组成。

为保证事务数据库的事务（transaction）是正确可靠的，所必须具备的四个特性：[原子性](https://zh.wikipedia.org/w/index.php?title=原子性&action=edit&redlink=1)（atomicity，或称不可分割性）、[一致性](https://zh.wikipedia.org/wiki/一致性_(数据库))（consistency）、[隔离性](https://zh.wikipedia.org/wiki/隔離性)（isolation，又称独立性）、[持久性](https://zh.wikipedia.org/w/index.php?title=持久性&action=edit&redlink=1)（durability）。

- Atomicity（原子性）：一个事务（transaction）中的所有操作，或者全部完成，或者全部不完成，不会结束在中间某个环节。事务在执行过程中发生错误，会被[回滚](https://zh.wikipedia.org/wiki/回滚_(数据管理))（Rollback）到事务开始前的状态，就像这个事务从来没有执行过一样。即，事务不可分割、不可约简。[[1\]](https://zh.wikipedia.org/wiki/ACID#cite_note-acid-1)
- Consistency（一致性）：在事务开始之前和事务结束以后，数据库的完整性没有被破坏。这表示写入的资料必须完全符合所有的预设[约束](https://zh.wikipedia.org/wiki/数据完整性)、[触发器](https://zh.wikipedia.org/wiki/触发器_(数据库))、[级联回滚](https://zh.wikipedia.org/wiki/级联回滚)等。[[1\]](https://zh.wikipedia.org/wiki/ACID#cite_note-acid-1)
- Isolation（隔离性）：数据库允许多个并发事务同时对其数据进行读写和修改的能力，隔离性可以防止多个事务并发执行时由于交叉执行而导致数据的不一致。事务隔离分为不同级别，包括未提交读（Read uncommitted）、提交读（read committed）、可重复读（repeatable read）和串行化（Serializable）。[[1\]](https://zh.wikipedia.org/wiki/ACID#cite_note-acid-1)
- Durability（持久性）：事务处理结束后，对数据的修改就是永久的，即便系统故障也不会丢失。[[1\]](https://zh.wikipedia.org/wiki/ACID#cite_note-acid-1)

### 数据库范式

1NF：关系模式R中不包含多值属性，则满足第一范式

2NF：一个关系R的所有非主属性都完全依赖于R的一个候选码，则称R为第二范式

3NF：如果关系模式R满足2NF，它的任一非主属性都不传递依赖于任何候选码

BCNF：设关系模式R(U,F)$\in$1NF，若F的任何一个函数依赖X →Y(Y$\in$X)中X都属于R的一个码，即每一个决定因素都属于码，则称BCNF。

### Drop、truncate、delete的区别

drop直接删除掉表

truncate删除表中的所有数据，不把删除记录作为日志保存，删除是不能恢复的，执行速度快

delete删除表中的数据，可以在后面添加where子句，把删除操作当作事务保存在日志中

### inner join left join right join out join

### OLAP与OLTP的区别

OLTP主要处理Insert, delete, update以及数据量不大的查询等操作

OLAP的查询频率相较于OLTP来说较低，但通常会涉及到较为复杂的聚合计算

OLTP主要用于处理已知的任务，为了操作数据而设计，OLAP主要用于分析数据，其查询方式往往是未知且复杂的，通常需要汇聚大量数据的聚合计算。

### 关系型数据库与非关系型数据库的优缺点

关系型数据库：

1. 易于维护：都是使用表结构，格式一致；
2. 使用方便：SQL语言通用，可用于复杂查询；
3. 复杂操作：支持SQL，可用于一个表以及多个表之间非常复杂的查询。

1. 读写性能比较差，尤其是海量数据的高效率读写；
2. 固定的表结构，灵活度稍欠；
3. 高并发读写需求，传统关系型数据库来说，硬盘I/O是一个很大的瓶颈。

非关系型数据库：

1. 格式灵活：存储数据的格式可以是key,value形式、文档形式、图片形式等等，文档形式、图片形式等等，使用灵活，应用场景广泛，而关系型数据库则只支持基础类型。
2. 速度快：nosql可以使用硬盘或者随机存储器作为载体，而关系型数据库只能使用硬盘；
3. 高扩展性；
4. 成本低：nosql数据库部署简单，基本都是开源软件。

1. 不提供sql支持，学习和使用成本较高；
2. 无事务处理；
3. 数据结构相对复杂，复杂查询方面稍欠。



